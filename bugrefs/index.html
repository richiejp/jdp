<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>BugRefs · JDP</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>JDP</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><span class="toctext">Reference</span><ul><li class="current"><a class="toctext" href>BugRefs</a><ul class="internal"><li><a class="toctext" href="#BugRefs-1">BugRefs</a></li><li><a class="toctext" href="#BugRefsParser-(Internal)-1">BugRefsParser (Internal)</a></li></ul></li><li><a class="toctext" href="../conf/">Conf</a></li><li><a class="toctext" href="../functional/">Functional</a></li><li><a class="toctext" href="../repository/">Repository</a></li><li><a class="toctext" href="../trackers/">Trackers</a></li></ul></li><li><a class="toctext" href="../development/">Development</a></li></ul></nav><article id="docs"><header><nav><ul><li>Reference</li><li><a href>BugRefs</a></li></ul><a class="edit-page" href="https://github.com/richiejp/jdp/blob/master/docs/src/bugrefs.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>BugRefs</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Bug-References-1" href="#Bug-References-1">Bug References</a></h1><ul><li><a href="#JDP.BugRefs.Ref"><code>JDP.BugRefs.Ref</code></a></li><li><a href="#JDP.BugRefs.extract_tags!-Tuple{Dict{String,Array{JDP.BugRefs.Ref,N} where N},String,JDP.Tracker.TrackerRepo}"><code>JDP.BugRefs.extract_tags!</code></a></li><li><a href="#JDP.BugRefsParser.AbstractToken"><code>JDP.BugRefsParser.AbstractToken</code></a></li><li><a href="#JDP.BugRefsParser.parse_comment-Tuple{String}"><code>JDP.BugRefsParser.parse_comment</code></a></li><li><a href="#JDP.BugRefsParser.tokval-Tuple{JDP.BugRefsParser.Token}"><code>JDP.BugRefsParser.tokval</code></a></li></ul><h2><a class="nav-anchor" id="BugRefs-1" href="#BugRefs-1">BugRefs</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JDP.BugRefs" href="#JDP.BugRefs"><code>JDP.BugRefs</code></a> — <span class="docstring-category">Module</span>.</div><div><div><p>Bug references are usually a three letter abreviation (TLA) for a tracker instance (e.g. bugzilla.suse.com -&gt; bsc) followed by a <code>#</code> and then an id number, so for example <code>bsc#12345</code>.</p><p>Test failures can be &#39;tagged&#39; with a bug reference. This usually looks something like <code>test01:bsc#12345</code>. There are also anti-tags which signal that a failure should no longer be associated with a given bug. These look like <code>test01:!bsc#12345</code>.</p><p>This module provides methods for processing bug references and tags which are typically included in a comment on a test failure, but can be taken from any text.</p></div></div><a class="source-link" target="_blank" href="https://github.com/richiejp/jdp/blob/177e232d7732f9cd4bc84948608196bca5a8bb29/src/BugRefs.jl#L1-L14">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JDP.BugRefs.extract_tags!-Tuple{Dict{String,Array{JDP.BugRefs.Ref,N} where N},String,JDP.Tracker.TrackerRepo}" href="#JDP.BugRefs.extract_tags!-Tuple{Dict{String,Array{JDP.BugRefs.Ref,N} where N},String,JDP.Tracker.TrackerRepo}"><code>JDP.BugRefs.extract_tags!</code></a> — <span class="docstring-category">Method</span>.</div><div><div><p>Parse some text for Bug tags and add them to the given tags index</p></div></div><a class="source-link" target="_blank" href="https://github.com/richiejp/jdp/blob/177e232d7732f9cd4bc84948608196bca5a8bb29/src/BugRefs.jl#L120">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JDP.BugRefs.Ref" href="#JDP.BugRefs.Ref"><code>JDP.BugRefs.Ref</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>A reference to a bug on a particular tracker</p></div></div><a class="source-link" target="_blank" href="https://github.com/richiejp/jdp/blob/177e232d7732f9cd4bc84948608196bca5a8bb29/src/BugRefs.jl#L27">source</a></section><h2><a class="nav-anchor" id="BugRefsParser-(Internal)-1" href="#BugRefsParser-(Internal)-1">BugRefsParser (Internal)</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JDP.BugRefsParser" href="#JDP.BugRefsParser"><code>JDP.BugRefsParser</code></a> — <span class="docstring-category">Module</span>.</div><div><div><p>Parser for the Bug references (tags) DSL</p><p>See <a href="#JDP.BugRefsParser.parse_comment-Tuple{String}"><code>parse_comment</code></a>&#39;s docs for the format.</p></div></div><a class="source-link" target="_blank" href="https://github.com/richiejp/jdp/blob/177e232d7732f9cd4bc84948608196bca5a8bb29/src/BugRefsParser.jl#L1-L6">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JDP.BugRefsParser.parse_comment-Tuple{String}" href="#JDP.BugRefsParser.parse_comment-Tuple{String}"><code>JDP.BugRefsParser.parse_comment</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">parse_comment(text)</code></pre><p>Try to extract the test-name:bug-ref pairs from a comment</p><p>Below is the approximate syntax in EBNF. Assume letter ∈ [a-Z] and digit ∈ [0-9] and whitespace is allowed between testnames, bugrefs, &#39;:&#39; and &#39;,&#39;. However there should be no gap between &#39;:&#39; and &#39;!&#39;.</p><pre><code class="language-none">testname = letter | digit { letter | digit | &#39;_&#39; | &#39;-&#39; }
tracker = letter { letter }
id = letter | digit { letter | digit }
bugref = tracker &#39;#&#39; id
tagging = testname {&#39;,&#39; testname} &#39;:&#39; [&#39;!&#39;] bugref {&#39;,&#39; bugref}
taggings = tagging { tagging }</code></pre><p>A tagging can assign many bug references to many testnames, which means you can have something like: test1, test2: bsc#1234, git#a33f4. Which tags tests 1 and 2 with both bug references.</p><p>Comments many contain many taggings along with other random text. If the algorithm finds an error it discards the current tagging and starts trying to parse a new tagging from the point where it failed.</p></div></div><a class="source-link" target="_blank" href="https://github.com/richiejp/jdp/blob/177e232d7732f9cd4bc84948608196bca5a8bb29/src/BugRefsParser.jl#L289-L315">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JDP.BugRefsParser.tokval-Tuple{JDP.BugRefsParser.Token}" href="#JDP.BugRefsParser.tokval-Tuple{JDP.BugRefsParser.Token}"><code>JDP.BugRefsParser.tokval</code></a> — <span class="docstring-category">Method</span>.</div><div><div><pre><code class="language-none">tokval(tok)</code></pre><p>Get the textual value of any AbstractToken. </p><p>Implement using SubString and not [n:m] because the former is zero-copy.</p></div></div><a class="source-link" target="_blank" href="https://github.com/richiejp/jdp/blob/177e232d7732f9cd4bc84948608196bca5a8bb29/src/BugRefsParser.jl#L37-L43">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="JDP.BugRefsParser.AbstractToken" href="#JDP.BugRefsParser.AbstractToken"><code>JDP.BugRefsParser.AbstractToken</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Some kind of symbol or even an expression; so long as it can be represented by SubString</p></div></div><a class="source-link" target="_blank" href="https://github.com/richiejp/jdp/blob/177e232d7732f9cd4bc84948608196bca5a8bb29/src/BugRefsParser.jl#L23">source</a></section><footer><hr/><a class="previous" href="../"><span class="direction">Previous</span><span class="title">Home</span></a><a class="next" href="../conf/"><span class="direction">Next</span><span class="title">Conf</span></a></footer></article></body></html>
