<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Bug Tagging · JDP</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><nav class="toc"><a href="../"><img class="logo" src="../assets/logo.svg" alt="JDP logo"/></a><h1>JDP</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li class="current"><a class="toctext" href>Bug Tagging</a><ul class="internal"><li><a class="toctext" href="#Tagging-in-OpenQA-1">Tagging in OpenQA</a></li></ul></li><li><a class="toctext" href="../user-preferences/">User Preferences</a></li><li><span class="toctext">Reference</span><ul><li><a class="toctext" href="../bugrefs/">BugRefs</a></li><li><a class="toctext" href="../conf/">Conf</a></li><li><a class="toctext" href="../functional/">Functional</a></li><li><a class="toctext" href="../repository/">Repository</a></li><li><a class="toctext" href="../trackers/">Trackers</a></li></ul></li><li><a class="toctext" href="../development/">Development</a></li><li><a class="toctext" href="../reports/">Reports</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Bug Tagging</a></li></ul><a class="edit-page" href="https://github.com//blob/master/docs/src/bug-tagging.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Bug Tagging</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Bug-Tagging-1" href="#Bug-Tagging-1">Bug Tagging</a></h1><p>This page will act as a guide to tagging anomalies (usually test failures) with references to a <a href="../trackers/#JDP.Tracker"><code>JDP.Tracker</code></a> item.</p><p>In an abstract, very general sense, a bug tag (see <a href="../bugrefs/#JDP.BugRefs"><code>JDP.BugRefs</code></a>) is an expression which can be used to link an anomaly (or type of anomaly) to some other entity. However, usually we tag test failures with a bug/issue entry in a tracker, so we shall call them bug tags (for now).</p><p>At the very least, bug tags can be used to automatically identify test failures or other anomalies which have already been investigated.</p><h2><a class="nav-anchor" id="Tagging-in-OpenQA-1" href="#Tagging-in-OpenQA-1">Tagging in OpenQA</a></h2><p>In OpenQA we can tag test failures with bug references by commenting on a job with something like:</p><pre><code class="language-none">generic-349: bsc#1128319</code></pre><p>or</p><pre><code class="language-none">* generic/349: bsc#1128319.
* Some other text which will be ignored.</code></pre><p>or</p><pre><code class="language-none">generic-349:bsc#1128319, generic-350 : bsc#1128321</code></pre><p>or even</p><pre><code class="language-none">* test01, test02: bug#1
* test03:bug#2,bug#3</code></pre><p>You can included other text in your comments and it will mostly be ignored. Also white-space is not significant around the <code>:</code>. There is also some flexibility in how you write the test names. For example <code>/</code> will be substituted with <code>-</code>, allowing you to use either.</p><p>The full rules are in the <a href="../bugrefs/#JDP.BugRefsParser"><code>JDP.BugRefsParser</code></a>.</p><p>The Propagate Bug Tags script will propagate bug tags from one failed job to another when the bug tag expression is satisfied. In this case, if the test <code>generic-349</code><a href="#footnote-1">[1]</a> has failed and the environment matches.</p><div class="admonition warning"><div class="admonition-title">Warning</div><div class="admonition-text"><p>If OpenQA&#39;s built in bugref carry over is also enabled, then you may get some strange interactions between it and the JDP script.</p></div></div><p>When bug tags are propagated you will see a comment like the following</p><div class="admonition tip"><div class="admonition-title">JDP wrote N days ago</div><div class="admonition-text"><p>This is an automated message from <a href="https://gitlab.suse.de/rpalethorpe/jdp/blob/master/notebooks/Propagate%20Bug%20Tags.ipynb">JDP</a></p><p>The following bug tags have been propagated: </p><ul><li>generic-349: bsc#1128319 [<strong>P5 - None</strong>(<em>Normal</em>) NEW: Bug title 1]</li><li>generic-350: bsc#1128321 [<strong>P5 - None</strong>(<em>Normal</em>) NEW: Bug title 2]</li></ul></div></div><p>To prevent an old tag from being propagating to new jobs you can add an &#39;anti-tag&#39;, like:</p><pre><code class="language-none">generic-349:! bsc#1128319</code></pre><p>An anti-tag won&#39;t be propagated itself. It just stops any more propagations of tags which match its pattern. If you delete the comment containing the tag (and update the cache) then propagation should continue.</p><div class="admonition warning"><div class="admonition-title">Warning</div><div class="admonition-text"><p>You should write the <code>!</code> immediately after the <code>:</code>. Do not insert white-space between them.</p></div></div><div class="footnote" id="footnote-1"><a href="#footnote-1"><strong>[1]</strong></a><p>This will be expanded to the Fully Qualified Name (FQN). For example; <code>fstests:btrfs:generic-349</code> if it is in the btrfs test suite or <code>fstests:xfs:generic-349</code> if it is in the xfs suit.</p></div><footer><hr/><a class="previous" href="../"><span class="direction">Previous</span><span class="title">Home</span></a><a class="next" href="../user-preferences/"><span class="direction">Next</span><span class="title">User Preferences</span></a></footer></article></body></html>
